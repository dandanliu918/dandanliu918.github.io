<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>ExpReg | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="1.RegExp 正则表达式类 创建方式  1）字面量 var reg=/\w/; 2) 实例 new RegExp  作用： 和字符串是息息相关的，正则就是一个规则，是一个模式 规则1）验证字符串是否符合正则制定的规则 规则2）捕获符合条件的字符串  方法 reg.test(str) test方法就是用来验证字符串是否符合正则 true/false reg.exec(str) exec方法就是用">
<meta property="og:type" content="article">
<meta property="og:title" content="ExpReg">
<meta property="og:url" content="https://dandanliu918.github.io/2017/04/05/ExpReg/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="1.RegExp 正则表达式类 创建方式  1）字面量 var reg=/\w/; 2) 实例 new RegExp  作用： 和字符串是息息相关的，正则就是一个规则，是一个模式 规则1）验证字符串是否符合正则制定的规则 规则2）捕获符合条件的字符串  方法 reg.test(str) test方法就是用来验证字符串是否符合正则 true/false reg.exec(str) exec方法就是用">
<meta property="og:updated_time" content="2017-04-05T05:52:57.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ExpReg">
<meta name="twitter:description" content="1.RegExp 正则表达式类 创建方式  1）字面量 var reg=/\w/; 2) 实例 new RegExp  作用： 和字符串是息息相关的，正则就是一个规则，是一个模式 规则1）验证字符串是否符合正则制定的规则 规则2）捕获符合条件的字符串  方法 reg.test(str) test方法就是用来验证字符串是否符合正则 true/false reg.exec(str) exec方法就是用">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://dandanliu918.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-ExpReg" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/05/ExpReg/" class="article-date">
  <time datetime="2017-04-05T05:46:20.000Z" itemprop="datePublished">2017-04-05</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      ExpReg
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-RegExp-正则表达式类"><a href="#1-RegExp-正则表达式类" class="headerlink" title="1.RegExp 正则表达式类"></a>1.RegExp 正则表达式类</h2><ul>
<li><p>创建方式 </p>
<pre><code>1）字面量 var reg=/\w/;
2) 实例 new RegExp
</code></pre></li>
<li><p>作用：</p>
<pre><code>和字符串是息息相关的，正则就是一个规则，是一个模式
规则1）验证字符串是否符合正则制定的规则
规则2）捕获符合条件的字符串
</code></pre></li>
<li><p>方法</p>
<pre><code>reg.test(str) test方法就是用来验证字符串是否符合正则 true/false
reg.exec(str) exec方法就是用来捕获符合规则的字符串
</code></pre></li>
<li><p>RegExp.$n 属性保存的是每次正则在执行完捕获等操作之后的第n分组的内容</p>
<ul>
<li><p>n: 1-9 RegExp.$n是不兼容</p>
<pre><code>var reg = /(\d)(\w)/g;
var str = &apos;6a&amp;&amp;&amp; 7m%%%&apos;;
console.log(RegExp.$1); // &apos;6&apos;  第一个分组捕获到的内容
console.log(RegExp.$2); // &apos;a&apos;  第二个分组捕获到的内容
</code></pre></li>
</ul>
</li>
</ul>
<h2 id="2-正则的组成"><a href="#2-正则的组成" class="headerlink" title="2.正则的组成"></a>2.正则的组成</h2><h3 id="2-1元字符-两个斜杠之间的都是元字符"><a href="#2-1元字符-两个斜杠之间的都是元字符" class="headerlink" title="2.1元字符 两个斜杠之间的都是元字符"></a>2.1元字符 两个斜杠之间的都是元字符</h3><ul>
<li><p>1）代表特殊含义的元字符</p>
<pre><code>\:转义
|:或者
():分组
.:除了\n以外的其他字符
\n:换行
\b:边界
^:以什么开头
$:以什么结尾
\s:空格
\S:非空格
\d:数字
\D:除了数字
\w:[A-Za-z0-9] 数字，字母 ，下划线
\W:[^A-Za-z0-9]
</code></pre></li>
</ul>
<pre><code>[a-z]:包含字母
[^a-z]:除了字母
[abc]:包含abc
[^abc]:除了abc
[+-]:加号或者减号中的一个
[.]:点本身
</code></pre><ul>
<li><p>2）代表次数的量词的元字符</p>
<pre><code>*：0到多次
+：1到多次
？：0到1次（可有可无）
{n}：刚好n次
{n,}：n到多次
{n,m}：n到m次
?: 只匹配不捕获
?! 负向预查
?= 正向预查 
</code></pre></li>
</ul>
<h3 id="2-2俢字符-斜杠外面的都是修饰符"><a href="#2-2俢字符-斜杠外面的都是修饰符" class="headerlink" title="2.2俢字符 斜杠外面的都是修饰符"></a>2.2俢字符 斜杠外面的都是修饰符</h3><pre><code>i：忽略大小写 ignoreCase
g：匹配全局 global
m：多行匹配 multii
</code></pre><h2 id="3-字面量和实例创建的区别"><a href="#3-字面量和实例创建的区别" class="headerlink" title="3.字面量和实例创建的区别"></a>3.字面量和实例创建的区别</h2><ul>
<li><p>实例创建方式 var reg=new RegExp([parem1],[parem2])</p>
<pre><code>1）参数1 是一个字符串
2）参数2 就是修饰符 &apos;i&apos; / &apos;m&apos; / &apos;g&apos;
3）如果用实例创建方法，使用特殊元字符，需要双斜杠转义，因为斜杠本身在字符串中也含有特殊含义 比如 \n 换行

注意：只要在正则表达式中需要变量，那么只能使用实例创建方式
</code></pre><ul>
<li><p>字面量创建方式  var reg = /\d/;</p>
<p>  1）创建必须在斜杠之间<br>  2）需要通过test / exec 方法</p>
</li>
</ul>
</li>
</ul>
<h2 id="4-exec捕获"><a href="#4-exec捕获" class="headerlink" title="4.exec捕获"></a>4.exec捕获</h2><pre><code>返回值 
 1） 返回一个数组
 2）index 捕获开始的位置的索引
 3）input 原有被捕获的整个字符串
 4）如果exec没有捕获的整个字符串

 注意：正则存在一个lastIndex属性，这个属性记录的就是下一次捕获从哪个索引开始，如果当前次捕获结果为null。那么lastIndex的值会被修改为0.下次从头开始捕获。并且这个lastIndex属性还支持人为赋值

  例如：
  var reg = /\d+/g;
  var str = &apos;zhufeng2015peixun2016haha2017&apos;;
  var res = reg.exec(str);
  console.log(res); // [&apos;2015&apos;,index:7,input:str]
  console.log(reg.lastIndex); //lastIndex
</code></pre><h2 id="5-match捕获"><a href="#5-match捕获" class="headerlink" title="5.match捕获"></a>5.match捕获</h2><ul>
<li><p>str.match(reg) 和exec用法基本相同</p>
<pre><code>返回值：
 1）返回值是一个数组
 2）如果有全文g那么match会一次性把所有符合条件的全部捕获，并且添加到这个数组，如果用exec来达到效果需要捕获多次
 3）如果没有全文g，那么match和exec的捕获结果是相同的

 例子：
 var reg = /\d+/;
 var str = &apos;zhufeng2015peixun2016&apos;;
 var result = str.match(reg);  // reg.exec(str);
 console.log(result);//[&quot;2015&quot;, index: 7, input: &quot;zhufeng2015peixun2016&quot;]
</code></pre><ul>
<li><p>挂在原型上的方法 String.prototype.match</p>
<p>  var str=’2014zhufnge2016jzhjkhk2017’;<br>  var reg=/\d+/g;<br>  String.prototype.match=function (reg){</p>
<pre><code>var res=reg.exec(this)//this是实例 第一次捕获
var ary=[];
while(res){
  ary.push(res[0]); 捕获的放到res这个数组中
  res=reg.exec(this)在捕获一次
}
</code></pre><p>  }<br>  var ary=str.match(reg);<br>  console.log(ary);</p>
</li>
</ul>
</li>
</ul>
<h2 id="6-正则捕获exec的分组用法"><a href="#6-正则捕获exec的分组用法" class="headerlink" title="6.正则捕获exec的分组用法"></a>6.正则捕获exec的分组用法</h2><pre><code>正则分组
  1 只要正则中出现了小括号那么就会形成一个分组
  2 只要有分组，exec捕获的姐就会发生改变
  3 捕获结果从数组的第二项开始，依次是分组捕获到的内容
  4 如果不想捕获那么久在分组前面添加 &apos;?:&apos; 来取消分组
  5 到捕获的结果中通过索引就可以获取到分组捕获到的内容

  注意：
   1）有小分组的情况下，小分组是从第二项开始，数组最后两个永远都是index和input
</code></pre><h2 id="7-replace结合正则用法"><a href="#7-replace结合正则用法" class="headerlink" title="7.replace结合正则用法"></a>7.replace结合正则用法</h2><ul>
<li><p>str.replace(reg,function(){})</p>
<pre><code>1 参数1正则
2 参数2回调函数，取决于正则能成功在字符串匹配多少次
3 每次函数的返回值 return，来替换正则所匹配到内容
4 函数执行的时候打印 argument
   [正则匹配到的内容,分组1，分组2...    index,input]
   0                          length-2,length-1

例子：屏蔽关键词
  var str=&apos;引导当我们想根据表达式进行匹配，而非根据值和参数匹配时，导引就显得非常有用。如果你对函数式编程非常熟悉，那么你很可能已经使用过导引。&apos;
  var reg=/(引导|非常|表达式)/g;
  str=str.replace(reg,function (a) {
      var str=&apos;&apos;;
      for(var i=0;i&lt;a.length;i++){//a==arguments[0]一样的
             str+=&apos;*&apos;;
             }
               return str;
      })
    console.log(str);
</code></pre><h4 id="关于exec和match的区别"><a href="#关于exec和match的区别" class="headerlink" title="关于exec和match的区别"></a>关于exec和match的区别</h4><p>1 在正则没有全局g的情况下，都捕获一次，都能拿到小分组的信息<br>2 有全局情况下，exec依然能拿到小分组信息，match可以拿到大分组信息，拿不到小分组信息</p>
</li>
</ul>
<h2 id="8-？的用法"><a href="#8-？的用法" class="headerlink" title="8.？的用法"></a>8.？的用法</h2><pre><code>问号的用法：
 1 量词：用来修饰前面的元字符出现0-1次
 2 破坏贪婪性：放在量词后面可以每次尽可能少的去匹配
 3 ?: (?:\d|X) 这个小括号只是处理&apos;|&apos;或者符合可能出现的问题，但是并不想捕获这一组在分组小括号前面添加 &apos;?:&apos;可以取消这个分组，只匹配不捕获
</code></pre><h2 id="9-贪婪性和懒惰性"><a href="#9-贪婪性和懒惰性" class="headerlink" title="9.贪婪性和懒惰性"></a>9.贪婪性和懒惰性</h2><ul>
<li>懒惰性：尽可能少的去捕获次数（全文g可以改变懒惰性）</li>
<li>贪婪性：每次尽可能多的去捕获（在量词’+’后面添加一个问号就会每次尽可能少的去匹配）</li>
</ul>
<h2 id="10-什么时候添加开头和结尾"><a href="#10-什么时候添加开头和结尾" class="headerlink" title="10.什么时候添加开头和结尾"></a>10.什么时候添加开头和结尾</h2><ul>
<li>1 查找某一个字符就不需要添加，严格匹配必须添加</li>
<li>2 字面量创建：无法拼接变量</li>
<li>3 实例创建：1）可以进行变量的拼接 2）需要转义</li>
</ul>
<h2 id="11-中括号-的用法"><a href="#11-中括号-的用法" class="headerlink" title="11.中括号[]的用法"></a>11.中括号[]的用法</h2><ul>
<li>1 中括号 [] 中放类似’+’’.’等特殊符号都没有特殊含义</li>
<li>2 中括号 [] 不能放两位数字</li>
</ul>
<h2 id="12-当斜杠-遇到-的时候，最好用小括号-提高优先级"><a href="#12-当斜杠-遇到-的时候，最好用小括号-提高优先级" class="headerlink" title="12.当斜杠 // 遇到 | 的时候，最好用小括号()提高优先级"></a>12.当斜杠 // 遇到 | 的时候，最好用小括号()提高优先级</h2><h2 id="13-split-结合正则表达式用法："><a href="#13-split-结合正则表达式用法：" class="headerlink" title="13.split 结合正则表达式用法："></a>13.split 结合正则表达式用法：</h2><ul>
<li><p>如果参数是一个正则，那么把字符串拆分成数组的时候，就是按照这个正则能匹配到的字符串为分隔符拆分；</p>
<pre><code>var str = &apos;abc&amp;123xxx456yyy&apos;;
var res = str.split(&apos;&amp;&apos;);
console.log(res); 

例子：时间格式字符串
var template = &quot;{0}年{1}月{2}日{3}点{4}分&quot;;
var str = &apos;2016-10-16 12:40&apos;;
var ary = str.split(/[-\s:]/);
var ary = str.split(/-|:|\s/);
var reg = /{(\d)}/g;
template = template.replace(reg,function (bigReg,group1){
        return ary[group1];
 });
 console.log(template);
</code></pre></li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://dandanliu918.github.io/2017/04/05/ExpReg/" data-id="cj6arzbzg000gn8djeljmoikg" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/04/05/AJAX/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          AJAX
        
      </div>
    </a>
  
  
    <a href="/2017/04/05/ES6/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ES6</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/08/13/postName/">Web前端开发</a>
          </li>
        
          <li>
            <a href="/2017/06/15/CSS-Color/">CSS3-颜色</a>
          </li>
        
          <li>
            <a href="/2017/06/15/CSS-Slected/">CSS3-选择器</a>
          </li>
        
          <li>
            <a href="/2017/06/15/CSS-Transition/">CSS3-过渡</a>
          </li>
        
          <li>
            <a href="/2017/06/15/CSS-Border/">CSS-Border</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>